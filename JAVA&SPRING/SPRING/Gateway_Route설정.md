# Spring Cloud Gateway Route 설정

현재의 나는 혼자서 열심히 MSA에 대하여 공부를 하고 있는 중이다. 그렇게 Sping Cloud를 처음 접하고 이것저것 여러 부분에 대해서 공부를 즐겁게 즐기고 있다.   

오늘은 Spring Cloud Gateway에서 `Routes` 설정에 대해서 알아볼 생각이다.

## `Routes` 주요 요소

각 `route`는 개인 고유의 `id`, `uri`, `predicates` 그리고 `filters`로 구성이 된다.   

 * id   
   id는 각 경로(route)의 고유 식별자이다. 이 식별자는 로깅이나 모니터링 등의 작업에서 사용될 수 있다.   

 * uri  
   라우팅된 요청이 전달될 대상의 URI이다. `lb://` 접두사는 로드 밸런싱을 나타내며, 해당 서비스의 인스턴스들 사이에서 요청이 분배가 된다.

   ![](https://i.postimg.cc/g2CXxRsY/2024-08-19-20-03-22.png)

   이 처럼 Eureka서버에서 나타나는 어플리케이션 명을 입력을 해줘야 한다.

 * predicates   
   요청이 해당 경로로 라우팅되기 위한 조건들을 정의한다.   
   여러 조건들을 결합할 수 있으며, 모든 조건이 일치해야 경로가 선택이 된다.   

 * filters   
   라우팅 전에 요청 또는 응답을 수정하는데 사용 한다. 필터를 통하여 해더를 수정하거나, 경로를 재설정하는 등의 작업들을 수행할 수 있다.        